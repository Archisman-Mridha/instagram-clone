extend schema
  @link(url: "https://grafbase.com/extensions/grpc/0.1.0", import: ["@protoServices", "@protoEnums", "@protoMessages", "@grpcMethod"])
  @protoServices(
    definitions: [
      {
        name: "microservices.feeds.FeedsService"
        methods: [
          {
            name: "Ping"
            inputType: ".google.protobuf.Empty"
            outputType: ".google.protobuf.Empty"
          }
          {
            name: "GetFeed"
            inputType: ".microservices.feeds.GetFeedRequest"
            outputType: ".microservices.feeds.GetFeedResponse"
          }
        ]
      }
    ]
  )
  @protoMessages(
    definitions: [
      {
        name: ".google.protobuf.Empty"
        fields: [
        ]
      }
      {
        name: ".microservices.feeds.GetFeedRequest"
        fields: [
          {
            name: "user_id"
            number: 1
            repeated: false
            type: "int32"
          }
          {
            name: "page_size"
            number: 2
            repeated: false
            type: "int64"
          }
          {
            name: "offset"
            number: 3
            repeated: false
            type: "int64"
          }
        ]
      }
      {
        name: ".microservices.feeds.GetFeedResponse"
        fields: [
          {
            name: "post_ids"
            number: 1
            repeated: true
            type: "int32"
          }
        ]
      }
    ]
  )

type Mutation {
  microservices_feeds_FeedsService_Ping(input: EmptyObject): EmptyObject @grpcMethod(service: "microservices.feeds.FeedsService", method: "Ping")
  microservices_feeds_FeedsService_GetFeed(input: microservices_feeds_GetFeedRequestInput): microservices_feeds_GetFeedResponse @grpcMethod(service: "microservices.feeds.FeedsService", method: "GetFeed")
}

"64 bit signed integer" scalar I64
"64 bit unsigned integer" scalar U64

"An empty object " scalar EmptyObject

"""
A generic empty message that you can re-use to avoid defining duplicated
 empty messages in your APIs. A typical example is to use it as the request
 or the response type of an API method. For instance:

     service Foo {
       rpc Bar(google.protobuf.Empty) returns (google.protobuf.Empty);
     }
"""
input google_protobuf_EmptyInput {
}

input microservices_feeds_GetFeedRequestInput {
  user_id: Int
  page_size: I64
  offset: I64
}

"An empty object " scalar EmptyObject

"""
A generic empty message that you can re-use to avoid defining duplicated
 empty messages in your APIs. A typical example is to use it as the request
 or the response type of an API method. For instance:

     service Foo {
       rpc Bar(google.protobuf.Empty) returns (google.protobuf.Empty);
     }
"""
type google_protobuf_Empty {
}

type microservices_feeds_GetFeedResponse {
  post_ids: [Int!]
}
